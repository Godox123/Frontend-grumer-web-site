<div class="set-reservation-container">
  <form
    class="set-reservation-form"
    novalidate
    [formGroup]="setReservationForm"
    (ngSubmit)="serReservation()"
  >
    <div class="content">
      <mat-form-field class="content__input-email">
        <input formControlName="email" matInput placeholder="Введите email" />
        <mat-error *ngIf="setReservationForm.get('email').hasError('email')">
          Не корректный email
        </mat-error>
      </mat-form-field>
      <mat-form-field class="content__input-username">
        <input formControlName="username" matInput placeholder="Введите Имя" />
        <mat-error
          *ngIf="setReservationForm.get('username').hasError('required')"
        >
          Поле не может быть пустым
        </mat-error>
      </mat-form-field>
      <mat-form-field class="content__input-phone">
        <input
          type="number"
          formControlName="phone"
          matInput
          placeholder="Введите номер телефона"
        />
        <mat-error *ngIf="setReservationForm.get('phone').hasError('required')">
          Поле не может быть пустым
        </mat-error>
        <mat-error *ngIf="setReservationForm.get('phone').hasError('pattern')">
          9-максимальное колличество символов
        </mat-error>
      </mat-form-field>
      <mat-form-field class="content__input-selectService">
        <!-- <mat-select *ngfor="let service for PortfolioServicesNames"></mat-select> -->
        <mat-select
          placeholder="Выберите сервис"
          formControlName="selectService"
        >
          <!--<mat-option value="{{service.name}}">{{service.name}}</mat-option>-->
          <mat-option value="service1">Service1</mat-option>
          <mat-option value="service2">Service2</mat-option>
          <mat-option value="service3">Service3</mat-option>
        </mat-select>
      </mat-form-field>
      <!-- <mat-form-field *ngIf="PortfolioServicesNames | async" class="content__input-selectDate"> -->
      <mat-form-field class="content__input-selectDate">
        <mat-label>Выберите дату</mat-label>
        <input
          (ngModelChange)="selectDate()"
          formControlName="selectDate"
          matInput
          [matDatepickerFilter]="myFilter"
          [matDatepicker]="picker"
        />
        <mat-datepicker-toggle matSuffix [for]="picker"></mat-datepicker-toggle>
        <mat-datepicker #picker></mat-datepicker>
      </mat-form-field>
      <div
        class="set-reservation-form__input-reservation-time-container"
        *ngIf="visible; else unset"
      >
        <mat-form-field
          class="content__input-selectTime"
          *ngIf="reservationTime | async"
        >
          <mat-select formControlName="selectTime" placeholder="Выберите время">
            <mat-option *ngIf="visibleNine" value="{{ nine }}"
              >09:00</mat-option
            >
            <mat-option *ngIf="visibleTwelve" value="{{ twelve }}"
              >12:00</mat-option
            >
            <mat-option *ngIf="visibleFifteen" value="{{ fifteen }}"
              >15:00</mat-option
            >
          </mat-select>
        </mat-form-field>
      </div>
      <ng-template #unset>
        <p>Свободного времени нет</p>
      </ng-template>
    </div>
    <button mat-button mat-dialog-close type="submit">
      Добавить бронирование
    </button>
    <button (click)="close()">close</button>
  </form>
</div>
